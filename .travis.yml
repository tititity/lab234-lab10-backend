language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t $DOCKER_USERNAME/se234-lab10-backend
  .
- docker push $DOCKER_USERNAME/se234-lab10-backend
- docker pull $DOCKER_USERNAME/se234-lab10-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: WgLdL0ZnJ6fOPFX9onfs6E3o98IVKnjYT2L3XKexuam8Xr9qGYbKPpQnwgyHekDjN5BL4sg4Aj3b9ggc3KvTrHf2m+b0Cun/8H5TNSCV0zeOvdls+OksDMy+6LhhXrDGIkVKQiTG916LRM5s2l8ps3yj+O69/OjL+W4mO0KkJlBlfYI5NTLn6slDq5V3aN3b22pubKPeotWkpgk5J8f2dnNIwDQ9Ro4l0aYn9AxBRcVZPNULlbY/rRo42CNVSOMvxIuKk2bsFSVAX1P+DIo5e/oOHtZcjzyUv999Xg7/gKJbmdKM+LY8RG3S7yhy7W6yoIWMlGvddWX99UFThj2Y1UQUYviFzQj2MBcS+TlqzmSWhF44ZNDAYjHpBre0tPQhMYh+AbpFtibQX6JXzfnRyOClMDDrrUFHM/uViQV7JN3/5k2Oubu+Fca4ge+0ZhyCVOVP9E0Ya7abwbKGy3L4Mf5mSuhuEDFUpcd/4gY+SCEg9jM5UR1yGj7dhj26zDFGWLeZHupr1bICFbEtFs7DzUdfLNfQbgIov3uVzWcFXTJHAN2UKxG4WxFxV7p0d/aZh4a4e/streeAxSzBRPXOjGoGXIUcPNImOQLKPVAeG/7zGoraCSYXQzbDuB6tXd+tn+PDPFkG+tm6Ki/jkpBw6+avpetGknvqyafuNgeXa8s=
  - secure: fu3P9lPlPSroE9D0VdkwhoZZJBIh8n+voLHqTYzIkGducEI6tly+Oo/h2/DsJ1kdfH5lhiycFfUQDaaqC9AD1DKZGK84C+vBF1t7BylsVal8ULY2OLZRRCqCLL14DW/U3BGOUyBDD4XoDygpnY6/lSlIUz6LuKoDT1Q85hpUdtTOGFbNPGUog/1yIwB3o7vMf6Pjl7lV8JyamdQiJF1vUNWQgNWoMKzJRzXxZmiLAV9qK7AE5ApsvFEn8vQrjBWce/Pq9U6NGPueCZj3MlF1Uocc2P/YaCMbxeIWhK8a/dI+sAs+XZSfa+b3jm8wjPNLUXFCI+5twz2XkkWaFOYSLa3qI4hu/sqjEz2c1383i+MI7iUkCxn6qv4Cx+GD1fYf2wNnA//KUdYbkc8IbSKQStxx+htV5RcGFG2D2tTRIAF4oHDMxZGsWyJWlCVvyDY0fy6sOGSIeLJo0Fs8h9vxBiwX2u/ZGv8FPOWnzuk2/uENI8Bdr6SF3S2dDB/OU3r0JtG9hAsmXumY9hqzFM8dlhAR6q3WPZoa2UdwD1VtjypQkdsl3aH6gopQMnGBPvsQIxSIFwP+bQzXeskgmWS6eRRBUif6rQOehTg3vUQvXn+E4aSx61z5kFBL7UoeA9VPQk65eFZrnaQZUy2j66wZQ9nveLikNVMuKed8dWuajZ4=
  - secure: SUpvUoHWppys7DJxjPyxxd4PDBr6zRmyO0NbkcLn7pIbSSdoDLKLFJIzwJicQS2CZPgxfBCAiBFtNk4obxdpBbc0m7AEm/dSC/wgOwuoBmnj4gFj8VvcHGf0MvbppQBiyGopq1rW0LVPjyB/tM1XqL6W+E2hHE1thYWkeWD7EfSZt2nj/vSGfApibzmWYHDsaKgj02ii4m9Zh0Wif9Nj+2M/Q90Jjj54r3soMaOZ4vuKRQpxWiqbo7JGOys0RtUTAKWuZUgFxchakU7OprQvsGOZoxBxFooM/h+AWPkTiv1cVPnjRq4evNmHQPPfnktkpB6ciUgvwrOEBLz8ysQukQQZTNGvU6SGOPzMtXZ//u2O9YMB5nkAQUoW/M2arXf9POpsmANeEjnRgXdnepqjK5G8ZNfOogClKb0s0j8n+tXT7EESWi/iEByNti6w9WJM0Q0nvvX2vEtwzbAolM9md2pJ4TBewNLQDRRbVcNThj7NK9oOwqH06EzVXhUCtf5px2MpABlJD8+78nFHHiChzSAcs9c8EhIUBAN7kduVrWInbRY2JWOmNOIOcLTL6jtXlRiYy/8HEKwX4Euz+rCHOdf/GeGVFotf2erpt7Maiytq2SFDAy5TmlOPpc6vZfe9MPGcVCMNO1QQ/Sr67zKWrUHkWaCA2goMNwngAgb5UrY=
  - secure: mUllX3iby+L4iZePP6c6rklyKw9+avLEOFRhbgFNDFxtKOmqniKwrXtcD6eIQlWLxB2UAxTqMgdABEWrR7djl23CSSWa2hY6EDIj4+k8Zw3XYkB1woUsggL+VJEeYFkEe3sozv/ren20l558bwCNUnJCFHoWTs/0qUqksbPcBGafx8oNXEL8OZusiNxSbro8zV9Phoa7pr/MR6J1pxPFuuFnrqUzqbkAHx3DMVTHECh1yz3yCmbif2ORRs64Mjd+Ki4pGhoaYD2RRoCFvUKVoHNY6t9Dg2vU1vDzFadoSikRLeEf642IDkzZmu945chx5cm0VNqZn79zZ2SwD/6hy5SRqrHxebe/BUvh56LGOPeTZpQED+46Hjm+cDLX0zjG6Mn6ASvB4rQqmNU5bqoebtz4QwA5LqY553mDWQIlt/kK6IyK9SGPUiCslAL3bzSRqP3K2YomU/cebbR1X9PPreV77xOeHl9XY09n5anXt54eWZfjmT9RujgVXloRSAVCYF7dTgRTbKcD4TOVH+NEaAzJMc+ZB3S9nFJxacOWNyM1fUrU/KUegeHl30gg0G19VaUpoPchubvRWlkSyQO1RQi8TZ8Bpz8y0t/HfmddrElxOJmc1tVlPef9WfgnEcj58n6lG+00s6I8b7BPpwdayQrm7tAFuQ+dzq/b5dAyXfU=
